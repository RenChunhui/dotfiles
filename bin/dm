#!/bin/sh
#
# Version: 1.0.0
# Author : Chunhui Ren
# macOS dotfiles manager commmand line interface

VERSION=1.0.0
ROUTE=$HOME/.config/dotfiles

source $ROUTE/lib/color
source $ROUTE/lib/icons
source $ROUTE/lib/output
source $ROUTE/lib/verify

if [[ "$1" == "" ]] || [[ "$1" == "h" ]] || [[ "$1" == 'help' ]]; then
  sh $ROUTE/commands/help
elif [[ "$1" == "clean" ]]; then
  sh $ROUTE/commands/clean
else
  if [ ! -d $ROUTE/plugins/$1 ]; then
    fail "The specified command is invalid. For a list of available options,run ${GREEN}dm help${RESET}."
  else
    sh $ROUTE/plugins/$1/main.sh "$@"
  fi
fi
